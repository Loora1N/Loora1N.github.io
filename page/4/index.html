<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <link rel="alternate icon" type="image/png" href="/img/favicon.png">
    <title>Loora1N&#39;s Blog | 鹭雨 | </title>
    
<link rel="stylesheet" href="/css/reset.css">

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/markdown.css">

    
<link rel="stylesheet" href="/css/fonts.css">

<meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div class="paper">
            <div class="paper-main">
                
                    <div class="header">
    <a class="logo" href="/">Loora1N&#39;s Blog | 鹭雨</a>
    <ul class="nav">
        
        <li><a href="/">首页</a></li>
        
        <li><a href="/archives">归档</a></li>
        
        <li><a href="/about">关于</a></li>
        
        <li><a href="/links">友链</a></li>
        
    </ul>
</div>
                
                <div class="post-list">
    
    <div class="post">
        <a class="post-title" href="/2022/11/03/i%E6%98%A5%E7%A7%8B%E6%98%A5%E5%AD%A3%E8%B5%9B-%E5%8B%87%E8%80%85%E5%B7%85%E5%B3%B0-chunqiuIOT/">i春秋春季赛-勇者巅峰-chunqiuIOT</a>
        <div class="post-except">
            前言这是今年上半年比赛的一道题目，那个时候才刚刚接触堆，栈也不是很熟。打开程序基本就放弃了，前一段时间复现了几个IOT相关的CVE，借此契机顺便看看几个月前自己放弃的那道题。有一说一，这道题的逆向部分还是很头疼的，逆了一个下午+一个早上才看完程序逻辑—-套皮堆题罢了。

我新建了一个库，用于存放各种比赛的题目，我博客内WP涉及的题目基本都能找到，链接：PWNchanllenge&#x2F;chunzhiIot at main · Loora1N&#x2F;PWNchanlle
            <a class="read-more" href="/2022/11/03/i%E6%98%A5%E7%A7%8B%E6%98%A5%E5%AD%A3%E8%B5%9B-%E5%8B%87%E8%80%85%E5%B7%85%E5%B3%B0-chunqiuIOT/"> ... </a>
        </div>
        <div class="post-date">2022.11.03</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/11/01/%E3%80%90%E7%A5%A5%E4%BA%91%E6%9D%AF2022%E3%80%91PWN-WriteUp-protocol/">【祥云杯2022】PWN-WriteUp-protocol</a>
        <div class="post-except">
            前言第一次见到google protobuf类型的题目，虽然是到签到题，但还是学到了一些新的东西
逆向分析首先导入文件，当我看到左侧密密麻麻的无名函数就感受到了一丝不对劲

先运行一下程序，发现输出了一个Login:

通过这个字符串定位到主函数位置


基本可以确定是去掉符号表了，这样直接逆向显然不太行。先看看程序编译的环境是什么，然后重新导入一个sig

成功确定版本Ubuntu 9.4.0-1ubuntu1~20.04.1,这个版本的libc应该是2.31，找一个对应的
            <a class="read-more" href="/2022/11/01/%E3%80%90%E7%A5%A5%E4%BA%91%E6%9D%AF2022%E3%80%91PWN-WriteUp-protocol/"> ... </a>
        </div>
        <div class="post-date">2022.11.01</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/28/%E9%80%82%E7%94%A8%E5%A4%9A%E7%89%88%E6%9C%AClibc%E7%9A%84pwn-base/">适用多版本libc的pwn-base</a>
        <div class="post-except">
            前言由于经常要在校内的CTFd平台上题，不使用pwn-base的构建方式会使得镜像体积过大，浪费许多服务器的存储空间。但使用pwn-base的情况下，不同题目libc要求不同，又需要构建多个pwn-base环境，过于麻烦。因而创建了这个可根据需求自行更换libc版本的pwn-base，有需要可以自己下载源码更改，链接在下方：

docker：loora1n&#x2F;Ubuntu2.35
链接：pwnbase&#x2F;Ubuntu2.35 at main · Loora1N
            <a class="read-more" href="/2022/10/28/%E9%80%82%E7%94%A8%E5%A4%9A%E7%89%88%E6%9C%AClibc%E7%9A%84pwn-base/"> ... </a>
        </div>
        <div class="post-date">2022.10.28</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/27/%5BIO_FILE%5DHouse%20of%20kiwi/">【IO_FILE】House of kiwi</a>
        <div class="post-except">
            前言
参考博客如下：
从PWN题NULL_FXCK中学到的glibc知识
House OF Kiwi

CTF的Pwn题里面,通常就会遇到一些加了沙盒的题目,这种加沙盒的题目,在2.29之后的堆题中,通常为以下两种方式

劫持__free_hook,利用特定的gadget,将栈进行迁移
劫持__malloc_hook为setcontext+61的gadget,以及劫持IO_list_all单链表中的指针在exit结束中,在_IO_cleanup函数会进行缓冲区的刷新,从而读取
            <a class="read-more" href="/2022/10/27/%5BIO_FILE%5DHouse%20of%20kiwi/"> ... </a>
        </div>
        <div class="post-date">2022.10.27</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/25/vscode%E4%BD%BF%E7%94%A8pwntools%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E5%87%BA%E9%94%99/">vscode使用pwntools代码高亮出错</a>
        <div class="post-except">
            
vscode在使用pwntools的send系列函数时，会出现高亮错误的情况，目前最好的解决办法时对pwntools源码进行更改

右键send函数，选择Go to Definition，打开pwntools源码

ctrl+F搜索send_raw函数

把函数末尾的raise EOFError(&#39;Not implemented&#39;)更换成raise NotImplementedError()既可

            <a class="read-more" href="/2022/10/25/vscode%E4%BD%BF%E7%94%A8pwntools%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E5%87%BA%E9%94%99/"> ... </a>
        </div>
        <div class="post-date">2022.10.25</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/20/how2heap%E2%91%A0%20botcake,einherjar,lore/">【how2heap】 botcake,einherjar,lore</a>
        <div class="post-except">
            
本系列将针对glibc2.31及glibc2.35两个版本进行讨论，其他版本可以根据特性进行类推，建议先对各种堆块的基本特性和数据结构做已了解之后进行学习。

house_of_botcakehouse_of_botcake利用的是块的分割，使得只存在uaf漏洞的前提下实现堆块的溢出,达到获取任意地址的目的，下面我们用how2heap中的例子进行理解。
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &
            <a class="read-more" href="/2022/10/20/how2heap%E2%91%A0%20botcake,einherjar,lore/"> ... </a>
        </div>
        <div class="post-date">2022.10.20</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/18/Kernel-pwnbase%E8%AF%A6%E8%A7%A3/">Kernel-pwnbase详解</a>
        <div class="post-except">
            
参加starnewctf week4后，想要复现一道kernel的题。网上基本找不到Kernel-pwn的base，因此做了这个pwnbase用于在ctfd上提供动态kernel题目。base下载地址kernelbase

DockfileFROM ubuntu:20.04

RUN sed -i &quot;s/http:\/\/archive.ubuntu.com/http:\/\/mirrors.tuna.tsinghua.edu.cn/g&quot; /etc/ap
            <a class="read-more" href="/2022/10/18/Kernel-pwnbase%E8%AF%A6%E8%A7%A3/"> ... </a>
        </div>
        <div class="post-date">2022.10.18</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/17/NewStarCTF%20Week4%20PWN%20WP/">NewStarCTF Week4 PWN WP</a>
        <div class="post-except">
            前言
由于知道这个比赛比较晚，正式参与比赛是第四周的周三晚上，还差一道堆🐎，没有完成AK(但是拿了四个一血也好爽)。最后一题未解主要原因确实是自己在_IO_File相关利用了解不足，赛后找夜悠师傅拿到了exp，真的好感谢🌹


Canary比较简单的一道题，等我开始做题的时候已经有4个解了
expfrom pwn import *

io = process(&#39;./pwn&#39;)
# io = remote(&#39;node4.buuoj.cn&#39;,2
            <a class="read-more" href="/2022/10/17/NewStarCTF%20Week4%20PWN%20WP/"> ... </a>
        </div>
        <div class="post-date">2022.10.17</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/11/%E3%80%90CTFd%20%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91%E3%80%91%E8%A7%A3%E9%A2%98%E6%92%AD%E6%8A%A5%E6%9C%BA%E5%99%A8%E4%BA%BA%20V1/">【CTFd 二次开发】解题播报机器人 V1</a>
        <div class="post-except">
            
本文基于 CTFd Version 3.4.3 开发，可能存在源码不相同的情况，阅读时请注意文章时效性。机器人会一直更新，后续应该会有一二三血播报等更详尽的功能
注：本文不做机器人相关代码更改，直接利用nonebot自带接口实现

前端页面修改config.html打开CTFd/CTFd/themes/admin/templates/config.html，更改左侧栏目标题

apperance.html打开CTFd/CTFd/themes/admin/templates/
            <a class="read-more" href="/2022/10/11/%E3%80%90CTFd%20%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91%E3%80%91%E8%A7%A3%E9%A2%98%E6%92%AD%E6%8A%A5%E6%9C%BA%E5%99%A8%E4%BA%BA%20V1/"> ... </a>
        </div>
        <div class="post-date">2022.10.11</div>
    </div>
    
    <div class="post">
        <a class="post-title" href="/2022/10/03/gdb%E8%B0%83%E8%AF%95%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/">gdb调试常用指令</a>
        <div class="post-except">
            
gdb常用调试指令，包含pwngdb、pwndbg、peda、gef等插件的指令




命令名称
命令缩写
命令说明



run
r
运行一个待调试的程序


continue
c
让暂停的程序继续运行


next
n
运行到下一行


step
s
单步执行，遇到函数会进入


until
u
运行到指定行停下来


finish
fi
结束当前调用函数，回到上一层调用函数处


return
return
结束当前调用函数并返回指定值，到上一层函数调用处


ju
            <a class="read-more" href="/2022/10/03/gdb%E8%B0%83%E8%AF%95%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/"> ... </a>
        </div>
        <div class="post-date">2022.10.03</div>
    </div>
    
</div>

<div class="paginator">
    <a class="extend prev" rel="prev" href="/page/3/">上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">下一页</a>
</div>

                <div class="footer">
    <span>Copyright © 2022 Loora1N&#39;s Blog | 鹭雨</span>
    <span>Theme Designed By <a target="_blank" href="https://zheli.design/one-paper">這李設計</a></span>
</div>


<link rel="stylesheet" href="/css/a11y-dark.min.css">


<script src="/js/highlight.min.js"></script>


<script src="/js/highlightjs-line-numbers.js"></script>


<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>

            </div>
        </div>
    <!-- hexo injector body_end start -->
  <script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://python-github-calendar-api.vercel.app/api?Loora1N";
            var git_color =['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'];
            var git_user ="Loora1N";
            var parent_div_git = document.getElementById('recent-posts');
            var git_div_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>';
            if(parent_div_git && location.pathname =='/about/'){
                console.log('已挂载github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // 有报错，但不影响使用(支持pjax跳转)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementById('recent-posts')){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:280px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style></style><!-- hexo injector body_end end --></body>
</html>